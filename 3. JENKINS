JENKINS: Its a CI/CD TOOL.

CI : CONTINOUS INTEGRATION
CD : CONTINOUS DELIVERY/DEPLOYMENT

INTEGRATION : ADDING (SOUCE CODE)
INTEGRATE (ADDING) THE OLD CODE WITH THE NEW CODE.

CI : CONTINOUS BUILD + CONTINOUS TEST

BEFORE CI LIMITATIONS:
1. TIME CONSUMING
2. MANUAL WORK
3. COMPLEXITY 

CI : BUILD + TEST + DEPLOY (OPT)

CD: CONTINUOUS DELIVERY/DEPLOYMENT

CONTINUOUS DELIVERY : Deploying the code into production manually.
CONTINUOUS DEPLOYMENT: Deploying the code into production Automatically.


PIPELINE: 
Series of events interlinked with each other.
Step by step execution of a particular process. 


ENV : 
1. NON-PROD : DEV, TEST  (INTERNAL PURPOSE)
2. UAT      : USER ACCEPTANCE TESTING (CLIENT)
3. PROD     : LIVE SERVER (USERS) 

Every app we are using now is Deployed on PROD(LIVE) sever 


JENKINS: 
Jenkins is an open source project written in java by Kohsuke Kawaguchi. 
it runs on the Window, Linux and Mac OS.
It is Community supported.
Every thing is going to be worked on  plugins.
Automates the Entire Software Development Life Cycle (SDLC).

HUDSON -- > SUN MICRO SYSTEM(2004) -- > ORCALE -- > HUDSON=JENKINS, PAID=FREE

SETUP: 5 STEPS (8080 -- > OPEN IN SG) --- > ALL TRAFFIC (ANYWHERE)

STEP-1: GETTING REPO & KEY (jenkins.io)
  sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
  sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key
  
STEP-2: INSTALLING JAVA-11/17, GIT, MAVEN, JENKINS
  yum install java git maven jenkins -y

SETP-3: START JENKINS SERVICE
   systemctl start jenkins.service
   systemctl status jenkins.service
Note: By default any service will be on stopped state, we need to start it.

STEP-4: CONNECTING TO JENKINS
  Copy-public-ip/dns of jenkin server:8080
  EX: http://52.90.84.94:8080/
  
STEP-5: CONFIGURE

http://52.90.84.94:8080/


INTEGRATION OF GIT WITH JENKINS:

NEW ITEM -- > FREE STYLE (NAME) -- > OK -- > GIT -- > 
build -- > console output -- > green color
cd /var/lib/jenkins/workspace/JOB-1

Dahboard -- > job -- > condigure -- > Build step -- > Invoke top-level Maven targets
mvn compile -- > save 

green   : success
red     : failed
blue    : processing
black   : stopped
orange  : some depends missing

CUSTOM WROKSPACE: getting our outputs on our required locations on server.

cd 
mkdir -p swiggy/dailybuilds
cd /
chown jenkins:jenkins /root/ -R

dashboard -- > job -- > general -- > advance -- > Use custom workspace -- > 
/root/swiggy/dailybuilds -- > save

EXECUTING LINUX COMMANDS:

Build steps -- > execure shell command -- > 

================================================================================================================================
DAY-02:
Installig jenkins from script:

vim jenkins.sh

sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key
yum install java git maven jenkins -y
systemctl start jenkins.service
systemctl status jenkins.service

sh jenkins.sh

PARAMETERS: Passing the information. 

in real time we will get our works on form of tickets.
Ticketing tools: JIRA, SHAREPOINT, TRELLO, SERVICE NOW, WORKDAY.

TYPES:
CHOICE : You can provide the choices.
Dashboarh -- > raham -- > Configuration -- > This project is parameterized -- > choice

STRING : we can pass the values directly without specifiying.
Dashboarh -- > raham -- > Configuration -- > This project is parameterized -- > string

MULTI-STRING: To pass the input in multiple lines  
Dashboarh -- > raham -- > Configuration -- > This project is parameterized -- > multistring

FILE: To build the local files.
Dashboarh -- > raham -- > Configuration -- > This project is parameterized -- > file

BOOLEAN: Defines true or false.
Dashboarh -- > raham -- > Configuration -- > This project is parameterized -- > Boolean


VARIABLES: Varies as per the time.  used to hold the values

1. User defined variables
2. Jenkins Environment variables


User defined variables:
a. local  : it will work inside the job only.
b. global : it will work inside & outside of the job also.

a. local variable: ex-1:
name=raham
loc=hyderabad
echo "hai all my name is $name, im from $loc"

b. global variables: 

Dashboard  -- > Manage Jenkins -- > Configure System -- > Global properties -- > Environment variables -- > add 

when we define a value locally and globally, the local value will be taken by jenkins.

2. Jenkins Environment Variables: variables which will change as per the build.

user defined vs jenkins env vars
user defined vars will not chanaged, jenkins env vars will change.
users cannot defined the jenkins vars.

==========================================================================================================================

Throttle build: we can restrict the number of builds per hour/day/weekk ----

================================================================================================

DAY-03:

PASSWORD LESS LOGIN:

vim /var/lib/jenkins/config.xml  (7 th line true=false)
systemctl restart jenkins.service
systemctl status jenkins.service
public-ip:8080

=======================================================================================

CRON JOB: Used to schedule the jobs at particual time intervals.

*	: minutes
*	: hours
*	: date
*	: month
* 	: day (sun=0, sat=6)

9:00 am 1 june 2023	:	00 9 1 6 4
8:56 pm 31 05 2023	:	56 20 31 5 3
				56 20 31 5 3
new job -- > free style -- > git : url -- > Build Triggers  -- > Build periodically -- > (* * * * *) -- > save

shortcut: https://crontab-generator.org/
Build Triggers 
9am -- > source code is not chnaged -- > cronjob -- > build -- > trigger -- > waste

=======================================================================================

POLL SCM: Will make a build when the developer changes the code in given time.
if the code is chnaged on given time then only it will make a build.

new job -- > free style -- > git : url -- > Build Triggers  -- >poll scm -- > (* * * * *) -- > save

Disadvantge:
we give time interval for 1 hr -- > dev 5 mins -- > 55 minutes (waste of time)
in 1 hr i chnaged the code 2 times but i will get only last chnaged code.

=======================================================================================

WEBHOOK: Will trigger the build immedieatly when dev change the code.

github -- > repo -- > settings -- > webhooks -- > add webhook -- > password -- > Payload URL: jenkinsurl(public:8080) 

ex: (http://54.87.7.81:8080/github-webhook/)
Content type : application/json  -- > add webhook

new job -- > free style --> git : url -- > Build Triggers  -- > GitHub hook trigger for GITScm polling -- > save 

=========================================================================================

LINKED JOBS: J0b-1 is linked with job-2.
if i build job-1 then j0b-2 will trigger automatically.

1. UP STREAM JOBS
2. DOWN STREAM JOBS

post build: Actions that are happening after build.

create 2 jobs -- > job-1 -- >  Post-build Actions -- > build other projects -- > job2 -- > save

=========================================================================================

Permalinks: shows the build infromation and status as well.

Last build (#5), 18 sec ago
Last stable build (#5), 18 sec ago
Last successful build (#5), 18 sec ago
Last completed build (#5), 18 sec ago

============================================================================================

Execute concurrent builds if necessary :  When this option is checked, multiple builds of this project may be executed in parallel. 

=========================================================================================

TIME STAMP: Add the timestamps to console output.
it will be helpful in troubleshooting.

Troubleshooting	: Finding solution for the issue.

job1 -- > configure -- > Build Environment -- > Add timestamps to the Console Output -- > shell

echo "the code is building"
sleep 30
echo "the code is testing"

save

In real time every log file will have the timestamp enabled.
Log file : used to store the events happend on server.

